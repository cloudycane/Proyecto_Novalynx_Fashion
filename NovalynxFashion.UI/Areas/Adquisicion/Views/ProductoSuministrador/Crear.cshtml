@model ProductoSuministradorModel

@{
    ViewData["Title"] = "Crear Producto";
}


<h1>Crear Producto de Suministrador</h1>
<hr />


<div class="container">


    <form method="post" asp-action="Crear" enctype="multipart/form-data">
        <div asp-validation-summary="ModelOnly"></div>

        <div class="col-lg-3">
            <label>Subir Imagen</label>
            <center>
                <img class="img-square" id="preview" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Imagen previa" width="70" height="70">
            </center>
            <input type="file" name="imagen" id="imagen" accept="image/jpeg,image/png" />
        </div>
        <div class="col-lg-3">
            @Html.LabelFor(model => model.NombreProducto)
            @Html.TextBoxFor(model => model.NombreProducto, "", new { @class = "form-control", @style = "margin: 2%;" })
            @Html.ValidationMessageFor(model => model.NombreProducto, "", new { @class = "text-danger" })


        </div>
        <div class="col-lg-3">
            @Html.LabelFor(model => model.Descripcion)
            @Html.TextBoxFor(model => model.Descripcion, "", new { @class = "form-control", @style = "margin: 2%;" })
            @Html.ValidationMessageFor(model => model.Descripcion, "", new { @class = "text-danger" })
        </div>
        <div class="col-lg-3">
            @Html.LabelFor(model => model.Suministrador.NombreSuministrador)

            @Html.DropDownListFor(
                     model => model.SuministradorId,
                     (SelectList)ViewBag.SuministradorSelectList,
                     "Seleccionar",
                     new { @class = "form-control", @style = "margin: 2%;" }
                     )
        </div>

        <div class="col-lg-3">
            @Html.LabelFor(model => model.CosteProducto)
            @Html.TextBoxFor(model => model.CosteProducto, "", new { @class = "form-control", @style = "margin: 2%;" })
        </div>

        <div class="col-lg-3">
            @Html.LabelFor(model => model.CantidadProducto)
            @Html.TextBoxFor(model => model.CantidadProducto, "", new { @class = "form-control", @style = "margin: 2%;" })
        </div>

        <div class="col-lg-3">
            @Html.LabelFor(model => model.UnidadProducto)
            @Html.DropDownListFor(model => model.UnidadProducto,
                     Html.GetEnumSelectList<UnidadesEnum>(),
                     "Seleccionar Unidades",
                     new { @class = "form-control" })

        </div>

        <div>
            <button type="submit" class="btn btn-primary" style="float: right;">Enviar</button>
        </div>

    </form>
</div>

@{

    <script src="~/js/previsualizarImagen.js" type="text/javascript"></script>
    <script>
        document.getElementById('imagen').addEventListener('change', function (event) {
                    const [file] = event.target.files;
                    if (file) {
                        document.getElementById('preview').src = URL.createObjectURL(file);
                    }
                });
    </script>

}